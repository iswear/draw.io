# 交接文档
## 一. zaimi-saas项目

### 1.1 数据库

数据库结构见zaimi-saas-db

### 1.2 业务

#### 1.2.1 开放平台

1. 授权

授权采用oauth2.0标准授权模式，流程图可参见zaimi-saas-biz:authorize文件，具体代码实现位于com.zaimi.saas.open.api.controller.oauth.OauthController::authorize。

2. 商品

商品业务接口位于com.zaimi.saas.open.api.controller.scope.store.ProductController类中，包含商品查询（listPage，list）、商品详情（detail）接口

3. 订单

订单业务接口位于com.zaimi.saas.open.api.controller.scope.store.OrderController类中，包含订单列表查询（listStoreOrder，listStoreOrderPage）、订单详情（getOrderDetail）、订单包裹（getOrderPackages）、创建订单（createOrderV2）、支付订单（payOrder）、取消订单（cancelOrder）、订单锁定延长（delayOrder）接口

4. 售后

售后业务接口位于com.zaimi.saas.open.api.controller.scope.store.RefundController类中，包含售后列表查询（listStoreRefundPage）、售后详情（getStoreRefundDetail）、售后申请（applyRefund）、售后取消（cancelRefund）、退货物流提交（returnGoods）
    
#### 1.2.2 采购单

1. 采购单后台管理（主要用来做后台手动发货）

采购单后台业务接口位于com.zaimi.saas.admin.controller.system.PurchaseController类中，前台提供发货（deliver）、发货进度（getDeliverProgress）、

2. 采购单www

采购单www业务接口位于com.zaimi.saas.www.controller.system.PurchaseController 类中，提供供货单列表（listPurchasePage 老版已废弃）、供货单导出（exportPurchase 老版已废弃）、供货单列表V2（listPurchasePageV2）、供货单导出V2（exportPurchaseV2），供货单详情（getPurchaseDetail），修改收货地址（updateAddress）、供货单发货（deliver）、发货进度（getDeliverProgress）、批量导入发货（getDeliverProgress）、批量发货校验（validateBatchDeliver）、校验结果导出（validateBatchDeliver）、批量发货模版下载（getBatchDeliverTemplate）

#### 1.2.3 售后

1. 售后单后台管理（主要提供给我们自己系统财务审核）

售后服务接口位于com.zaimi.saas.admin.controller.system.RefundController类中，提供售后列表（listRefundPage），售后导出（exportRefund），售后详情（getRefundDetail），财务同意（agreeByFinance），财务取消（cancelByFinance），财务关闭（closeByFinance），财务拒绝（refuseByService）、手动补充售后单（apply）

2. 售后单www

售后服务接口位于com.zaimi.saas.www.controller.system.RefundController 类中，提供售后列表（listRefundPage）、售后详情（getRefundDetail）、客服同意（agreeByFinance），客服取消（cancelByService），客服关闭（closeByService），客服确认收货（confirmByService）

#### 1.2.5 营销工具管理

1. 营销工具admin

营销工具后台管理接口位于com.zaimi.saas.admin.controller.system.MarketingToolController类中，提供营销工具下拉接口两个（listMarketingTool 、listAllMarketingTool），后者主要是为万鳞甲服务，前者主要为其他saas服务（只能看到开启的）

2. 营销工具www

营销工具www接口位于com.zaimi.saas.www.controller.marketing.MarketingToolController 类中，提供营销工具列表（listMarketingTool）、营销工具详情（getMarketingToolDetail），更改营销工具状态（updateMarketingToolStatus）接口

#### 1.2.6 三方推单



## 二. zaimi-trade项目

### 1.1 订单业务

1. 锁定
2. 支付
3. 修改收货人
4. 取消
5. 延长锁定
6. 修改导出标记
7. 发货
8. 批量发货

### 1.2 售后业务

1. 售后申请
2. 客服同意
3. 客服确认收货
4. 客服取消
5. 客服关闭
6. 财务同意
7. 财务取消
8. 财务关闭
9. 提交退货物流

### 1.3 物流业务

1. 物流订阅
2. 物流回调

## 三. zaimi-product项目

### 1.1 数据库

### 1.2 业务

#### 1.2.1 下单库存操作

1. 下单库存操作接口
2. 库存超时定时

## 四. zaimi-union-platform项目

### 1.1 数据库

### 1.2 业务

#### 1.2.1 有赞对接

1. 商品拉取
2. 物流拉取
3. 库存拉取
4. 售后拉取
5. 回调处理

## 五. zaimi-quansheng项目

### 1.1 

## 六. zaimi-gouyouqu项目

## 七. zaimi-mall项目

### 1.1 数据库

### 1.2 业务

#### 1.2.1 万鳞甲回调对接
